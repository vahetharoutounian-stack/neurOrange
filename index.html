// Draw a donut ring as SVG wedges (sizePx = wrapper size in CSS pixels).
// r0px / r1px are radii in *pixels*; we scale to the 1000×1000 viewBox.
function drawRing(svgEl, sizePx, r0px, r1px, colors, gapDeg) {
  // Ensure the SVG uses a 1000×1000 coordinate space
  svgEl.setAttribute('viewBox', '0 0 1000 1000');
  // CSS size of the SVG (will fill the wrapper)
  svgEl.style.width  = sizePx + 'px';
  svgEl.style.height = sizePx + 'px';

  // Convert pixel radii to viewBox units
  const k  = 1000 / sizePx;
  const r0 = r0px * k;
  const r1 = r1px * k;

  const cx = 500, cy = 500;
  const gap = Number(gapDeg) || 0;
  const n   = colors.length;
  const slice = 360 / n;

  svgEl.innerHTML = '';
  for (let i = 0; i < n; i++) {
    const a0 = i * slice;
    const a1 = (i + 1) * slice - gap;
    const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
    path.setAttribute('d', wedgePath(cx, cy, r0, r1, a0, a1));
    path.setAttribute('fill', colors[i]);
    path.setAttribute('stroke', 'rgba(0,0,0,.18)');
    path.setAttribute('stroke-width', '1');
    svgEl.appendChild(path);
  }
}
